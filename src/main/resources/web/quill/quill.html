<!DOCTYPE html>
<html>
<head>
    <title>Full Editor - Quill</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="language" content="english">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="css/katex.min.css"/>
    <link rel="stylesheet" href="css/monokai-sublime.min.css"/>
    <link rel="stylesheet" href="css/quill.snow.css"/>
    <style>
        html {
            height: 100%;
        }

        body {
            margin: 0;
            height: 100%;
        }

        /* Tell Quill not to scroll */
        #editor-container {
            height: calc(100% - 50px);
        }

        #editor-container .ql-editor {
            font-size: 18px;
            /*overflow-y: auto;*/
        }


    </style>
</head>
<body>

<div id="toolbar-container">
<span class="ql-formats">
                    <!--<select class="ql-font"></select>-->
                    <!--<select class="ql-size"></select>-->
                </span>
<span class="ql-formats">
                    <button class="ql-bold"></button>
                    <button class="ql-italic"></button>
                    <button class="ql-underline"></button>
                    <button class="ql-strike"></button>
                </span>
<span class="ql-formats">
                    <button class="ql-color"></button>
                    <button class="ql-background"></button>
                </span>
<span class="ql-formats">
                    <button class="ql-script" value="sub"></button>
                    <button class="ql-script" value="super"></button>
                </span>
<span class="ql-formats">
                    <button class="ql-header" value="1"></button>
                    <button class="ql-header" value="2"></button>
                    <button class="ql-blockquote"></button>
                    <button class="ql-code-block"></button>
                </span>
<span class="ql-formats">
                    <button class="ql-list" value="ordered"></button>
                    <button class="ql-list" value="bullet"></button>
                    <button class="ql-indent" value="-1"></button>
                    <button class="ql-indent" value="+1"></button>
                </span>
                <span class="ql-formats">
                    <button class="ql-direction" value="rtl"></button>
                    <!--<select title="align" class="ql-align"></select>-->
                </span>
                <span class="ql-formats">
                    <button class="ql-link"></button>
                    <button class="ql-image"></button>
                    <button onclick="chooseImage()" value="image">OCR</button>
                    <button onclick="insertImage()" value="image">+</button>
                    <button class="ql-video"></button>
                    <button class="ql-formula"></button>
                    <button onclick="save()">Save</button>

                </span>
                <span class="ql-formats">
                    <button class="ql-clean"></button>
                </span>
    <img src="https://bitbucket.org/xycro/study_kit/avatar/32/" width="15" height="15"/>
</div>


<div id="editor-container"></div>


<!--</div>-->
<script type="text/javascript" src="js/katex.min.js"></script>
<script type="text/javascript" src="js/highlight.min.js"></script>
<script type="text/javascript" src="js/quill.min.js"></script>
<script type="text/javascript" src="js/jquery-3.2.1.js"></script>
<script type="text/javascript">
            var quill = new Quill('#editor-container', {
                modules: {
                    formula: true,
                    syntax: true,
                    toolbar: '#toolbar-container'
                },
                placeholder: 'Write your text here...',
                theme: 'snow'

            });

            function insertImage(uri){
                out(uri);
                quill.insertEmbed(quill.getLength(), 'image', uri);

            }


    function chooseImage() {
        handler.chooseImage();
    }

    function out(data){
        handler.display(data);
    }

    function save(){
        handler.save(JSON.stringify(quill.getContents()));
    }

    function load(data){
        quill.setContents(JSON.parse(data));
    }


</script>
</body>
</html>